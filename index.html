<!DOCTYPE html>
<html>
<head>
  <title>Routine Planner</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f2f2f2;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
    }

    .container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .time-slot {
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 5px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      position: relative;
    }

    .time-slot.work {
      background-color: #f0f0f0;
    }

    .time-slot.break {
      background-color: #e0ffff;
    }

    .time {
      font-weight: bold;
      margin-bottom: 10px;
      color: #333;
    }

    .input-group {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .input-group input {
      flex: 1;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .input-group button {
      background-color: #007bff;
      color: white;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .input-group button:hover {
      background-color: #0056b3;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin-bottom: 5px;
      position: relative;
    }

    li button {
      position: absolute;
      right: 5px;
      top: 50%;
      transform: translateY(-50%);
      background-color: #dc3545;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 12px;
      transition: background-color 0.3s;
    }

    li button:hover {
      background-color: #c82333;
    }

    .add-time-slot {
      text-align: center;
      margin-top: 20px;
    }

    .add-time-slot button {
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .add-time-slot button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h1>My Daily Routine</h1>
  <div class="container">
    <div class="time-slot work" id="timeSlot-8am">
      <span class="time" id="time-8am">8:00 AM</span>
      <div class="input-group">
        <input type="text" id="activity-8am" placeholder="Activity">
        <button onclick="addActivity('8am')">Add</button>
      </div>
      <ul id="activities-8am"></ul>
    </div>
    <div class="time-slot break" id="timeSlot-9am">
      <span class="time" id="time-9am">9:00 AM</span>
      <div class="input-group">
        <input type="text" id="activity-9am" placeholder="Activity">
        <button onclick="addActivity('9am')">Add</button>
      </div>
      <ul id="activities-9am"></ul>
    </div>
    <div class="time-slot work" id="timeSlot-10am">
      <span class="time" id="time-10am">10:00 AM</span>
      <div class="input-group">
        <input type="text" id="activity-10am" placeholder="Activity">
        <button onclick="addActivity('10am')">Add</button>
      </div>
      <ul id="activities-10am"></ul>
    </div>
    <div class="time-slot break" id="timeSlot-11am">
      <span class="time" id="time-11am">11:00 AM</span>
      <div class="input-group">
        <input type="text" id="activity-11am" placeholder="Activity">
        <button onclick="addActivity('11am')">Add</button>
      </div>
      <ul id="activities-11am"></ul>
    </div>
    <div class="time-slot work" id="timeSlot-12pm">
      <span class="time" id="time-12pm">12:00 PM</span>
      <div class="input-group">
        <input type="text" id="activity-12pm" placeholder="Activity">
        <button onclick="addActivity('12pm')">Add</button>
      </div>
      <ul id="activities-12pm"></ul>
    </div>
    <div class="add-time-slot">
      <button onclick="addTimeSlot()">Add Time Slot</button>
    </div>
  </div>
  <script>
    let timeSlotCounter = 5; // Keep track of time slot IDs

    function addActivity(time) {
      const activityInput = document.getElementById(`activity-${time}`);
      const activityList = document.getElementById(`activities-${time}`);
      const newActivity = activityInput.value;

      if (newActivity !== "") {
        const listItem = document.createElement("li");
        listItem.textContent = newActivity;
        const deleteButton = document.createElement("button");
        deleteButton.textContent = "Delete";
        deleteButton.addEventListener('click', () => {
          activityList.removeChild(listItem);
          saveActivities();
        });
        listItem.appendChild(deleteButton);
        activityList.appendChild(listItem);
        activityInput.value = "";
        saveActivities();
      }
    }

    function addTimeSlot() {
      timeSlotCounter++;
      const newTimeSlot = document.createElement("div");
      newTimeSlot.classList.add("time-slot");
      newTimeSlot.setAttribute("id", `timeSlot-${timeSlotCounter}`);
      newTimeSlot.innerHTML = `
        <span class="time" id="time-${timeSlotCounter}">Time Slot ${timeSlotCounter}</span>
        <div class="input-group">
          <input type="text" id="activity-${timeSlotCounter}" placeholder="Activity">
          <button onclick="addActivity('${timeSlotCounter}')">Add</button>
        </div>
        <ul id="activities-${timeSlotCounter}"></ul>
      `;
      const container = document.querySelector(".container");
      container.insertBefore(newTimeSlot, container.lastElementChild);
      saveActivities();

      // Make the time editable
      const timeSpan = newTimeSlot.querySelector('.time');
      timeSpan.contentEditable = true;
      timeSpan.addEventListener('blur', () => {
        saveActivities(); // Save the updated time when focus is lost
      });
    }

    function saveActivities() {
      const activities = {};
      const timeSlots = ['8am', '9am', '10am', '11am', '12pm'];
      timeSlots.forEach(time => {
        const activityList = document.getElementById(`activities-${time}`);
        activities[time] = Array.from(activityList.children).map(item => item.textContent);
      });
      localStorage.setItem('routine', JSON.stringify(activities));
    }

    function loadActivities() {
      const storedActivities = JSON.parse(localStorage.getItem('routine'));
      if (storedActivities) {
        const timeSlots = ['8am', '9am', '10am', '11am', '12pm'];
        timeSlots.forEach(time => {
          const activityList = document.getElementById(`activities-${time}`);
          storedActivities[time].forEach(activity => {
            const listItem = document.createElement("li");
            listItem.textContent = activity;
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "Delete";
            deleteButton.addEventListener('click', () => {
              activityList.removeChild(listItem);
              saveActivities();
            });
            listItem.appendChild(deleteButton);
            activityList.appendChild(listItem);
          });
        });
      }
    }

    // Load activities on page load
    loadActivities();
  </script>
</body>
</html>
